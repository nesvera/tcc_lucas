<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T3U3">u_T</span>,<span class="var type1" id="S3T3U4">u_L</span>,<span class="var type1" id="S4T3U5">u_M</span>,<span class="var type1" id="S5T3U6">u_N</span>] = sliding_mode(<span class="var type1" id="S6T3U9">g</span>,<span class="var type1" id="S7T1U10">J</span>,<span class="var type1" id="S8T3U11">m</span>,<span class="var type1" id="S9T3U12">Phi</span>,<span class="var type1" id="S10T3U13">Theta</span>,<span class="var type1" id="S11T1U14">y</span>,<span class="var type1" id="S12T2U15">y_dot</span>,<span class="var type1" id="S13T2U16">yd</span>,<span class="var type1" id="S14T3U17">yd_dot</span>,<span class="var type1" id="S15T3U18">yd_dotdot</span>,<span class="var type1" id="S16T1U19">lambda</span>,<span class="var type1" id="S17T1U20">k</span>, <span class="var type1" id="S18T1U21">limit</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2"> 2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3"> 3</a></span><span class="line"><span class="mxinfo " id="T3:U18"><span class="var type1" id="S19T3U24">Jxx</span>=<span class="mxinfo " id="T3:U20"><span class="var type1" id="S7T1U26">J</span>(1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4"> 4</a></span><span class="line"><span class="mxinfo " id="T3:U22"><span class="var type1" id="S20T3U30">Jyy</span>=<span class="mxinfo " id="T3:U24"><span class="var type1" id="S7T1U32">J</span>(2)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5"> 5</a></span><span class="line"><span class="mxinfo " id="T3:U26"><span class="var type1" id="S21T3U36">Jzz</span>=<span class="mxinfo " id="T3:U28"><span class="var type1" id="S7T1U38">J</span>(3)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6"> 6</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7"> 7</a></span><span class="line"><span class="mxinfo " id="T6:U30"><span class="var type1" id="S22T6U42">lambdas</span> = <span class="mxinfo " id="T6:U32">[<span class="mxinfo " id="T16:U33"><span class="mxinfo " id="T3:U34"><span class="var type1" id="S16T1U46">lambda</span>(1)</span>,<span class="mxinfo " id="T3:U36">0</span>,<span class="mxinfo " id="T3:U37">0</span>,<span class="mxinfo " id="T3:U38">0</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8"> 8</a></span><span class="line"><span class="mxinfo " id="T6:U30"><span class="mxinfo " id="T6:U32">          <span class="mxinfo " id="T16:U39"><span class="mxinfo " id="T3:U40">0</span>,<span class="mxinfo " id="T3:U41"><span class="var type1" id="S16T1U54">lambda</span>(2)</span>,<span class="mxinfo " id="T3:U43">0</span>,<span class="mxinfo " id="T3:U44">0</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9"> 9</a></span><span class="line"><span class="mxinfo " id="T6:U30"><span class="mxinfo " id="T6:U32">          <span class="mxinfo " id="T16:U45"><span class="mxinfo " id="T3:U46">0</span>,<span class="mxinfo " id="T3:U47">0</span>,<span class="mxinfo " id="T3:U48"><span class="var type1" id="S16T1U62">lambda</span>(3)</span>,<span class="mxinfo " id="T3:U50">0</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10">10</a></span><span class="line"><span class="mxinfo " id="T6:U30"><span class="mxinfo " id="T6:U32">          <span class="mxinfo " id="T16:U51"><span class="mxinfo " id="T3:U52">0</span>,<span class="mxinfo " id="T3:U53">0</span>,<span class="mxinfo " id="T3:U54">0</span>,<span class="mxinfo " id="T3:U55"><span class="var type1" id="S16T1U70">lambda</span>(4)</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11">11</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12">12</a></span><span class="line"><span class="mxinfo " id="T3:U57"><span class="var type1" id="S23T3U74">Phid</span> = <span class="mxinfo " id="T3:U59"><span class="var type1" id="S12T2U76">y_dot</span>(2)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13">13</a></span><span class="line"><span class="mxinfo " id="T3:U61"><span class="var type1" id="S24T3U80">Thetad</span> = <span class="mxinfo " id="T3:U63"><span class="var type1" id="S12T2U82">y_dot</span>(3)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14">14</a></span><span class="line"><span class="mxinfo " id="T3:U65"><span class="var type1" id="S25T3U86">Psid</span> = <span class="mxinfo " id="T3:U67"><span class="var type1" id="S12T2U88">y_dot</span>(4)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15">15</a></span><span class="line">      </span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16">16</a></span><span class="line"><span class="mxinfo " id="T15:U69"><span class="var type1" id="S26T15U92">f</span>=<span class="mxinfo " id="T15:U71">zeros(4,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17">17</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18">18</a></span><span class="line"><span class="mxinfo " id="T4:U72"><span class="mxinfo " id="T4:U73"><span class="var type1" id="S26T15U100">f</span>(1)</span>= <span class="var type1" id="S6T3U102">g</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19">19</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20">20</a></span><span class="line"><span class="mxinfo " id="T4:U76"><span class="mxinfo " id="T4:U77"><span class="var type1" id="S26T15U106">f</span>(2)</span>= <span class="mxinfo " id="T3:U79"><span class="mxinfo " id="T3:U80"><span class="mxinfo " id="T3:U81"><span class="mxinfo " id="T3:U82"><span class="mxinfo " id="T3:U83"><span class="mxinfo " id="T3:U84"><span class="mxinfo " id="T3:U85">cos(<span class="var type1" id="S9T3U116">Phi</span>)</span>*<span class="mxinfo " id="T3:U87">tan(<span class="var type1" id="S10T3U119">Theta</span>)</span></span>*(<span class="mxinfo " id="T3:U89">(<span class="mxinfo " id="T3:U90"><span class="mxinfo " id="T3:U91">(<span class="mxinfo " id="T3:U92"><span class="var type1" id="S23T3U127">Phid</span> - <span class="mxinfo " id="T3:U94"><span class="var type1" id="S25T3U129">Psid</span>*<span class="mxinfo " id="T3:U96">sin(<span class="var type1" id="S10T3U132">Theta</span>)</span></span></span>)*(<span class="mxinfo " id="T3:U98"><span class="var type1" id="S19T3U135">Jxx</span> - <span class="var type1" id="S20T3U136">Jyy</span></span>)</span>*(<span class="mxinfo " id="T3:U101"><span class="mxinfo " id="T3:U102"><span class="var type1" id="S24T3U140">Thetad</span>*<span class="mxinfo " id="T3:U104">cos(<span class="var type1" id="S9T3U143">Phi</span>)</span></span> + <span class="keyword">...</span></span></span></span></span></span></span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21">21</a></span><span class="line"><span class="mxinfo " id="T4:U76"><span class="mxinfo " id="T3:U79"><span class="mxinfo " id="T3:U80"><span class="mxinfo " id="T3:U81"><span class="mxinfo " id="T3:U82"><span class="mxinfo " id="T3:U83"><span class="mxinfo " id="T3:U89"><span class="mxinfo " id="T3:U90"><span class="mxinfo " id="T3:U101"><span class="mxinfo " id="T3:U106"><span class="mxinfo " id="T3:U107"><span class="var type1" id="S25T3U146">Psid</span>*<span class="mxinfo " id="T3:U109">cos(<span class="var type1" id="S10T3U149">Theta</span>)</span></span>*<span class="mxinfo " id="T3:U111">sin(<span class="var type1" id="S9T3U152">Phi</span>)</span></span></span>)</span>)/<span class="var type1" id="S21T3U153">Jzz</span></span>)</span> + <span class="mxinfo " id="T3:U114"><span class="mxinfo " id="T3:U115"><span class="mxinfo " id="T3:U116">sin(<span class="var type1" id="S9T3U158">Phi</span>)</span>*<span class="mxinfo " id="T3:U118">tan(<span class="var type1" id="S10T3U161">Theta</span>)</span></span>*(<span class="mxinfo " id="T3:U120">(<span class="mxinfo " id="T3:U121"><span class="mxinfo " id="T3:U122">(<span class="mxinfo " id="T3:U123"><span class="var type1" id="S23T3U169">Phid</span> - <span class="mxinfo " id="T3:U125"><span class="var type1" id="S25T3U171">Psid</span>*<span class="mxinfo " id="T3:U127">sin(<span class="var type1" id="S10T3U174">Theta</span>)</span></span></span>)*(<span class="mxinfo " id="T3:U129"><span class="var type1" id="S19T3U177">Jxx</span> - <span class="var type1" id="S21T3U178">Jzz</span></span>)</span>*(<span class="mxinfo " id="T3:U132"><span class="mxinfo " id="T3:U133"><span class="var type1" id="S24T3U182">Thetad</span>*<span class="mxinfo " id="T3:U135">sin(<span class="var type1" id="S9T3U185">Phi</span>)</span></span> - <span class="mxinfo " id="T3:U137"><span class="mxinfo " id="T3:U138"><span class="var type1" id="S25T3U188">Psid</span>*<span class="mxinfo " id="T3:U140">cos(<span class="var type1" id="S9T3U191">Phi</span>)</span></span>*<span class="mxinfo " id="T3:U142">cos(<span class="var type1" id="S10T3U194">Theta</span>)</span></span></span>)</span>)/<span class="var type1" id="S20T3U195">Jyy</span></span>)</span></span> + <span class="keyword">...</span></span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22">22</a></span><span class="line"><span class="mxinfo " id="T4:U76"><span class="mxinfo " id="T3:U79"><span class="mxinfo " id="T3:U80"><span class="mxinfo " id="T3:U81"><span class="mxinfo " id="T3:U145">(<span class="mxinfo " id="T3:U146"><span class="var type1" id="S25T3U199">Psid</span>*<span class="var type1" id="S24T3U200">Thetad</span></span>)/<span class="mxinfo " id="T3:U149">cos(<span class="var type1" id="S10T3U203">Theta</span>)</span></span></span> + <span class="mxinfo " id="T3:U151"><span class="mxinfo " id="T3:U152"><span class="var type1" id="S23T3U206">Phid</span>*<span class="var type1" id="S24T3U207">Thetad</span></span>*<span class="mxinfo " id="T3:U155">tan(<span class="var type1" id="S10T3U210">Theta</span>)</span></span></span> - <span class="mxinfo " id="T3:U157">(<span class="mxinfo " id="T3:U158"><span class="mxinfo " id="T3:U159">(<span class="mxinfo " id="T3:U160"><span class="var type1" id="S20T3U217">Jyy</span> - <span class="var type1" id="S21T3U218">Jzz</span></span>)*(<span class="mxinfo " id="T3:U163"><span class="mxinfo " id="T3:U164"><span class="var type1" id="S24T3U222">Thetad</span>*<span class="mxinfo " id="T3:U166">cos(<span class="var type1" id="S9T3U225">Phi</span>)</span></span> + <span class="mxinfo " id="T3:U168"><span class="mxinfo " id="T3:U169"><span class="var type1" id="S25T3U228">Psid</span>*<span class="mxinfo " id="T3:U171">cos(<span class="var type1" id="S10T3U231">Theta</span>)</span></span>*<span class="mxinfo " id="T3:U173">sin(<span class="var type1" id="S9T3U234">Phi</span>)</span></span></span>)</span>*(<span class="mxinfo " id="T3:U175"><span class="mxinfo " id="T3:U176"><span class="var type1" id="S24T3U238">Thetad</span>*<span class="mxinfo " id="T3:U178">sin(<span class="var type1" id="S9T3U241">Phi</span>)</span></span> - <span class="mxinfo " id="T3:U180"><span class="mxinfo " id="T3:U181"><span class="var type1" id="S25T3U244">Psid</span>*<span class="mxinfo " id="T3:U183">cos(<span class="var type1" id="S9T3U247">Phi</span>)</span></span>*<span class="mxinfo " id="T3:U185">cos(<span class="var type1" id="S10T3U250">Theta</span>)</span></span></span>)</span>)/<span class="var type1" id="S19T3U251">Jxx</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23">23</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24">24</a></span><span class="line"><span class="mxinfo " id="T4:U188"><span class="mxinfo " id="T4:U189"><span class="var type1" id="S26T15U255">f</span>(3)</span>= <span class="mxinfo " id="T3:U191"><span class="mxinfo " id="T3:U192"><span class="mxinfo " id="T3:U193"><span class="mxinfo " id="T3:U194">cos(<span class="var type1" id="S9T3U262">Phi</span>)</span>*(<span class="mxinfo " id="T3:U196">(<span class="mxinfo " id="T3:U197"><span class="mxinfo " id="T3:U198">(<span class="mxinfo " id="T3:U199"><span class="var type1" id="S23T3U270">Phid</span> - <span class="mxinfo " id="T3:U201"><span class="var type1" id="S25T3U272">Psid</span>*<span class="mxinfo " id="T3:U203">sin(<span class="var type1" id="S10T3U275">Theta</span>)</span></span></span>)*(<span class="mxinfo " id="T3:U205"><span class="var type1" id="S19T3U278">Jxx</span> - <span class="var type1" id="S21T3U279">Jzz</span></span>)</span>*(<span class="mxinfo " id="T3:U208"><span class="mxinfo " id="T3:U209"><span class="var type1" id="S24T3U283">Thetad</span>*<span class="mxinfo " id="T3:U211">sin(<span class="var type1" id="S9T3U286">Phi</span>)</span></span> - <span class="mxinfo " id="T3:U213"><span class="mxinfo " id="T3:U214"><span class="var type1" id="S25T3U289">Psid</span>*<span class="mxinfo " id="T3:U216">cos(<span class="var type1" id="S9T3U292">Phi</span>)</span></span>*<span class="mxinfo " id="T3:U218">cos(<span class="var type1" id="S10T3U295">Theta</span>)</span></span></span>)</span>)/<span class="var type1" id="S20T3U296">Jyy</span></span>)</span> +<span class="keyword">...</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25">25</a></span><span class="line"><span class="mxinfo " id="T4:U188"><span class="mxinfo " id="T3:U191"><span class="mxinfo " id="T3:U192">    <span class="mxinfo " id="T3:U221"><span class="mxinfo " id="T3:U222">- <span class="mxinfo " id="T3:U223">sin(<span class="var type1" id="S9T3U301">Phi</span>)</span></span>*(<span class="mxinfo " id="T3:U225">(<span class="mxinfo " id="T3:U226"><span class="mxinfo " id="T3:U227">(<span class="mxinfo " id="T3:U228"><span class="var type1" id="S23T3U309">Phid</span> - <span class="mxinfo " id="T3:U230"><span class="var type1" id="S25T3U311">Psid</span>*<span class="mxinfo " id="T3:U232">sin(<span class="var type1" id="S10T3U314">Theta</span>)</span></span></span>)*(<span class="mxinfo " id="T3:U234"><span class="var type1" id="S19T3U317">Jxx</span> - <span class="var type1" id="S20T3U318">Jyy</span></span>)</span>*(<span class="mxinfo " id="T3:U237"><span class="mxinfo " id="T3:U238"><span class="var type1" id="S24T3U322">Thetad</span>*<span class="mxinfo " id="T3:U240">cos(<span class="var type1" id="S9T3U325">Phi</span>)</span></span> + <span class="mxinfo " id="T3:U242"><span class="mxinfo " id="T3:U243"><span class="var type1" id="S25T3U328">Psid</span>*<span class="mxinfo " id="T3:U245">cos(<span class="var type1" id="S10T3U331">Theta</span>)</span></span>*<span class="mxinfo " id="T3:U247">sin(<span class="var type1" id="S9T3U334">Phi</span>)</span></span></span>)</span>)/<span class="var type1" id="S21T3U335">Jzz</span></span>)</span></span> - <span class="mxinfo " id="T3:U250"><span class="mxinfo " id="T3:U251"><span class="var type1" id="S23T3U338">Phid</span>*<span class="var type1" id="S25T3U339">Psid</span></span>*<span class="mxinfo " id="T3:U254">cos(<span class="var type1" id="S10T3U342">Theta</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26">26</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27">27</a></span><span class="line"><span class="mxinfo " id="T4:U256"><span class="mxinfo " id="T4:U257"><span class="var type1" id="S26T15U346">f</span>(4)</span> = <span class="mxinfo " id="T3:U259"><span class="mxinfo " id="T3:U260"><span class="mxinfo " id="T3:U261"><span class="mxinfo " id="T3:U262">(<span class="mxinfo " id="T3:U263"><span class="var type1" id="S23T3U354">Phid</span>*<span class="var type1" id="S24T3U355">Thetad</span></span>)/<span class="mxinfo " id="T3:U266">cos(<span class="var type1" id="S10T3U358">Theta</span>)</span></span> + <span class="mxinfo " id="T3:U268">(<span class="mxinfo " id="T3:U269"><span class="mxinfo " id="T3:U270">cos(<span class="var type1" id="S9T3U364">Phi</span>)</span>*(<span class="mxinfo " id="T3:U272"><span class="mxinfo " id="T3:U273"><span class="mxinfo " id="T3:U274"><span class="var type1" id="S19T3U369">Jxx</span>*(<span class="mxinfo " id="T3:U276"><span class="var type1" id="S23T3U372">Phid</span> - <span class="mxinfo " id="T3:U278"><span class="var type1" id="S25T3U374">Psid</span>*<span class="mxinfo " id="T3:U280">sin(<span class="var type1" id="S10T3U377">Theta</span>)</span></span></span>)</span>*(<span class="mxinfo " id="T3:U282"><span class="mxinfo " id="T3:U283"><span class="var type1" id="S24T3U381">Thetad</span>*<span class="mxinfo " id="T3:U285">cos(<span class="var type1" id="S9T3U384">Phi</span>)</span></span> + <span class="mxinfo " id="T3:U287"><span class="mxinfo " id="T3:U288"><span class="var type1" id="S25T3U387">Psid</span>*<span class="mxinfo " id="T3:U290">cos(<span class="var type1" id="S10T3U390">Theta</span>)</span></span>*<span class="mxinfo " id="T3:U292">sin(<span class="var type1" id="S9T3U393">Phi</span>)</span></span></span>)</span> - <span class="mxinfo " id="T3:U294"><span class="mxinfo " id="T3:U295"><span class="var type1" id="S20T3U396">Jyy</span>*(<span class="mxinfo " id="T3:U297"><span class="var type1" id="S23T3U399">Phid</span> - <span class="mxinfo " id="T3:U299"><span class="var type1" id="S25T3U401">Psid</span>*<span class="mxinfo " id="T3:U301">sin(<span class="var type1" id="S10T3U404">Theta</span>)</span></span></span>)</span>*(<span class="mxinfo " id="T3:U303"><span class="mxinfo " id="T3:U304"><span class="var type1" id="S24T3U408">Thetad</span>*<span class="mxinfo " id="T3:U306">cos(<span class="var type1" id="S9T3U411">Phi</span>)</span></span> + <span class="mxinfo " id="T3:U308"><span class="mxinfo " id="T3:U309"><span class="var type1" id="S25T3U414">Psid</span>*<span class="mxinfo " id="T3:U311">cos(<span class="var type1" id="S10T3U417">Theta</span>)</span></span>*<span class="mxinfo " id="T3:U313">sin(<span class="var type1" id="S9T3U420">Phi</span>)</span></span></span>)</span></span>)</span>)/(<span class="mxinfo " id="T3:U315"><span class="var type1" id="S21T3U423">Jzz</span>*<span class="mxinfo " id="T3:U317">cos(<span class="var type1" id="S10T3U426">Theta</span>)</span></span>)</span></span> + <span class="keyword">...</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28">28</a></span><span class="line"><span class="mxinfo " id="T4:U256"><span class="mxinfo " id="T3:U259"><span class="mxinfo " id="T3:U260"><span class="mxinfo " id="T3:U319">(<span class="mxinfo " id="T3:U320"><span class="mxinfo " id="T3:U321">sin(<span class="var type1" id="S9T3U432">Phi</span>)</span>*(<span class="mxinfo " id="T3:U323"><span class="mxinfo " id="T3:U324"><span class="mxinfo " id="T3:U325"><span class="var type1" id="S19T3U437">Jxx</span>*(<span class="mxinfo " id="T3:U327"><span class="var type1" id="S23T3U440">Phid</span> - <span class="mxinfo " id="T3:U329"><span class="var type1" id="S25T3U442">Psid</span>*<span class="mxinfo " id="T3:U331">sin(<span class="var type1" id="S10T3U445">Theta</span>)</span></span></span>)</span>*(<span class="mxinfo " id="T3:U333"><span class="mxinfo " id="T3:U334"><span class="var type1" id="S24T3U449">Thetad</span>*<span class="mxinfo " id="T3:U336">sin(<span class="var type1" id="S9T3U452">Phi</span>)</span></span> - <span class="mxinfo " id="T3:U338"><span class="mxinfo " id="T3:U339"><span class="var type1" id="S25T3U455">Psid</span>*<span class="mxinfo " id="T3:U341">cos(<span class="var type1" id="S9T3U458">Phi</span>)</span></span>*<span class="mxinfo " id="T3:U343">cos(<span class="var type1" id="S10T3U461">Theta</span>)</span></span></span>)</span> - <span class="mxinfo " id="T3:U345"><span class="mxinfo " id="T3:U346"><span class="var type1" id="S21T3U464">Jzz</span>*(<span class="mxinfo " id="T3:U348"><span class="var type1" id="S23T3U467">Phid</span> - <span class="mxinfo " id="T3:U350"><span class="var type1" id="S25T3U469">Psid</span>*<span class="mxinfo " id="T3:U352">sin(<span class="var type1" id="S10T3U472">Theta</span>)</span></span></span>)</span>*(<span class="mxinfo " id="T3:U354"><span class="mxinfo " id="T3:U355"><span class="var type1" id="S24T3U476">Thetad</span>*<span class="mxinfo " id="T3:U357">sin(<span class="var type1" id="S9T3U479">Phi</span>)</span></span> - <span class="mxinfo " id="T3:U359"><span class="mxinfo " id="T3:U360"><span class="var type1" id="S25T3U482">Psid</span>*<span class="mxinfo " id="T3:U362">cos(<span class="var type1" id="S9T3U485">Phi</span>)</span></span>*<span class="mxinfo " id="T3:U364">cos(<span class="var type1" id="S10T3U488">Theta</span>)</span></span></span>)</span></span>)</span>)/(<span class="mxinfo " id="T3:U366"><span class="var type1" id="S20T3U491">Jyy</span>*<span class="mxinfo " id="T3:U368">cos(<span class="var type1" id="S10T3U494">Theta</span>)</span></span>)</span></span> + <span class="mxinfo " id="T3:U370">(<span class="mxinfo " id="T3:U371"><span class="mxinfo " id="T3:U372"><span class="var type1" id="S25T3U499">Psid</span>*<span class="var type1" id="S24T3U500">Thetad</span></span>*<span class="mxinfo " id="T3:U375">sin(<span class="var type1" id="S10T3U503">Theta</span>)</span></span>)/<span class="mxinfo " id="T3:U377">cos(<span class="var type1" id="S10T3U506">Theta</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29">29</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30">30</a></span><span class="line"><span class="mxinfo " id="T1:U379"><span class="var type1" id="S31T1U509">s</span> = <span class="mxinfo " id="T1:U381"><span class="mxinfo " id="T1:U382"><span class="var type1" id="S12T2U512">y_dot</span> - <span class="var type1" id="S14T3U513">yd_dot</span></span> + <span class="mxinfo " id="T1:U385"><span class="var type1" id="S22T6U515">lambdas</span>*(<span class="mxinfo " id="T1:U387"><span class="var type1" id="S11T1U518">y</span> - <span class="var type1" id="S13T2U519">yd</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31">31</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32">32</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33">33</a></span><span class="line"><span class="mxinfo " id="T6:U390"><span class="var type1" id="S32T6U522">Binv</span>=<span class="mxinfo " id="T6:U392">[<span class="mxinfo " id="T16:U393"><span class="mxinfo " id="T3:U394"><span class="mxinfo " id="T3:U395">-<span class="var type1" id="S8T3U527">m</span></span>/(<span class="mxinfo " id="T3:U397"><span class="mxinfo " id="T3:U398">cos(<span class="var type1" id="S9T3U532">Phi</span>)</span>*<span class="mxinfo " id="T3:U400">cos(<span class="var type1" id="S10T3U535">Theta</span>)</span></span>)</span>,<span class="mxinfo " id="T3:U402">0</span>,<span class="mxinfo " id="T3:U403">0</span>,<span class="mxinfo " id="T3:U404">0</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34">34</a></span><span class="line"><span class="mxinfo " id="T6:U390"><span class="mxinfo " id="T6:U392">       <span class="mxinfo " id="T16:U405"><span class="mxinfo " id="T3:U406">0</span>, <span class="var type1" id="S19T3U541">Jxx</span>, <span class="mxinfo " id="T3:U408">0</span>,  <span class="mxinfo " id="T3:U409"><span class="mxinfo " id="T3:U410">-<span class="var type1" id="S19T3U545">Jxx</span></span>*<span class="mxinfo " id="T3:U412">sin(<span class="var type1" id="S10T3U548">Theta</span>)</span></span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35">35</a></span><span class="line"><span class="mxinfo " id="T6:U390"><span class="mxinfo " id="T6:U392">       <span class="mxinfo " id="T16:U414"><span class="mxinfo " id="T3:U415">0</span>, <span class="mxinfo " id="T3:U416">0</span>, (<span class="mxinfo " id="T3:U417"><span class="var type1" id="S20T3U554">Jyy</span>*<span class="mxinfo " id="T3:U419">cos(<span class="var type1" id="S9T3U557">Phi</span>)</span></span>), (<span class="mxinfo " id="T3:U421"><span class="mxinfo " id="T3:U422"><span class="var type1" id="S20T3U561">Jyy</span>*<span class="mxinfo " id="T3:U424">cos(<span class="var type1" id="S10T3U564">Theta</span>)</span></span>*<span class="mxinfo " id="T3:U426">sin(<span class="var type1" id="S9T3U567">Phi</span>)</span></span>)</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36">36</a></span><span class="line"><span class="mxinfo " id="T6:U390"><span class="mxinfo " id="T6:U392">       <span class="mxinfo " id="T16:U428"><span class="mxinfo " id="T3:U429">0</span>, <span class="mxinfo " id="T3:U430">0</span>, <span class="mxinfo " id="T3:U431">-(<span class="mxinfo " id="T3:U432"><span class="var type1" id="S21T3U574">Jzz</span>*<span class="mxinfo " id="T3:U434">sin(<span class="var type1" id="S9T3U577">Phi</span>)</span></span>)</span>, (<span class="mxinfo " id="T3:U436"><span class="mxinfo " id="T3:U437"><span class="var type1" id="S21T3U581">Jzz</span>*<span class="mxinfo " id="T3:U439">cos(<span class="var type1" id="S9T3U584">Phi</span>)</span></span>*<span class="mxinfo " id="T3:U441">cos(<span class="var type1" id="S10T3U587">Theta</span>)</span></span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37">37</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38">38</a></span><span class="line"><span class="mxinfo " id="T6:U443"><span class="var type1" id="S33T6U590">k_des</span> =  <span class="mxinfo " id="T6:U445">[<span class="mxinfo " id="T16:U446"><span class="mxinfo " id="T3:U447"><span class="var type1" id="S17T1U594">k</span>(1)</span>,<span class="mxinfo " id="T3:U449">0</span>,<span class="mxinfo " id="T3:U450">0</span>,<span class="mxinfo " id="T3:U451">0</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39">39</a></span><span class="line"><span class="mxinfo " id="T6:U443"><span class="mxinfo " id="T6:U445">          <span class="mxinfo " id="T16:U452"><span class="mxinfo " id="T3:U453">0</span>,<span class="mxinfo " id="T3:U454"><span class="var type1" id="S17T1U602">k</span>(2)</span>,<span class="mxinfo " id="T3:U456">0</span>,<span class="mxinfo " id="T3:U457">0</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40">40</a></span><span class="line"><span class="mxinfo " id="T6:U443"><span class="mxinfo " id="T6:U445">          <span class="mxinfo " id="T16:U458"><span class="mxinfo " id="T3:U459">0</span>,<span class="mxinfo " id="T3:U460">0</span>,<span class="mxinfo " id="T3:U461"><span class="var type1" id="S17T1U610">k</span>(3)</span>,<span class="mxinfo " id="T3:U463">0</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41">41</a></span><span class="line"><span class="mxinfo " id="T6:U443"><span class="mxinfo " id="T6:U445">          <span class="mxinfo " id="T16:U464"><span class="mxinfo " id="T3:U465">0</span>,<span class="mxinfo " id="T3:U466">0</span>,<span class="mxinfo " id="T3:U467">0</span>,<span class="mxinfo " id="T3:U468"><span class="var type1" id="S17T1U618">k</span>(4)</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42">42</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43">43</a></span><span class="line"><span class="mxinfo " id="T1:U470"><span class="var type1" id="S34T1U622">u</span> = <span class="mxinfo " id="T1:U472"><span class="var type1" id="S32T6U624">Binv</span> * (<span class="mxinfo " id="T1:U474"><span class="mxinfo " id="T1:U475"><span class="mxinfo " id="T1:U476"><span class="mxinfo " id="T15:U477">-<span class="var type1" id="S26T15U630">f</span></span> + <span class="var type1" id="S15T3U631">yd_dotdot</span></span> - <span class="mxinfo " id="T1:U480"><span class="var type1" id="S22T6U633">lambdas</span>*(<span class="mxinfo " id="T1:U482"><span class="var type1" id="S12T2U636">y_dot</span> - <span class="var type1" id="S14T3U637">yd_dot</span></span>)</span></span> - <span class="mxinfo " id="T1:U485"><span class="var type1" id="S33T6U639">k_des</span> * <span class="mxinfo " id="T15:U487"><span class="fcn" id="F43N2:B641">sat</span>(<span class="var type1" id="S31T1U642">s</span>,<span class="var type1" id="S18T1U643">limit</span>)</span></span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44">44</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,45" id="srcline45">45</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,46" id="srcline46">46</a></span><span class="line"><span class="mxinfo " id="T3:U490"><span class="var type1" id="S2T3U646">u_T</span> = <span class="mxinfo " id="T3:U492"><span class="var type1" id="S34T1U648">u</span>(<span class="mxinfo " id="T4:U494">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,47" id="srcline47">47</a></span><span class="line"><span class="mxinfo " id="T3:U495"><span class="var type1" id="S3T3U652">u_L</span> = <span class="mxinfo " id="T3:U497"><span class="var type1" id="S34T1U654">u</span>(<span class="mxinfo " id="T4:U499">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,48" id="srcline48">48</a></span><span class="line"><span class="mxinfo " id="T3:U500"><span class="var type1" id="S4T3U658">u_M</span> = <span class="mxinfo " id="T3:U502"><span class="var type1" id="S34T1U660">u</span>(<span class="mxinfo " id="T4:U504">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,49" id="srcline49">49</a></span><span class="line"><span class="mxinfo " id="T3:U505"><span class="var type1" id="S5T3U664">u_N</span> = <span class="mxinfo " id="T3:U507"><span class="var type1" id="S34T1U666">u</span>(<span class="mxinfo " id="T4:U509">4</span>)</span></span>;</span></span>
</pre>
